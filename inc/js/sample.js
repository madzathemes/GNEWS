!function(a,b,c,d){"use strict";function t(a,b){return a[b]===d?k[b]:a[b]}function u(){var a=b.pageYOffset;return a===d?i.scrollTop:a}function v(a,b){var c=k["on"+a];c&&(n(c)?c.call(b[0]):(c.addClass&&b.addClass(c.addClass),c.removeClass&&b.removeClass(c.removeClass))),b.trigger("lazy"+a,[b]),z()}function w(b){v(b.type,a(this).off(g,w))}function x(c){if(q.length){c=c||k.forceLoad,r=1/0;var l,m,d=u(),h=b.innerHeight||i.clientHeight,j=b.innerWidth||i.clientWidth;for(l=0,m=q.length;l<m;l++){var z,o=q[l],s=o[0],t=o[e],x=!1,y=c||p(s,f)<0;if(a.contains(i,s)){if(c||!t.visibleOnly||s.offsetWidth||s.offsetHeight){if(!y){var A=s.getBoundingClientRect(),B=t.edgeX,C=t.edgeY;z=A.top+d-C-h,y=z<=d&&A.bottom>-C&&A.left<=j+B&&A.right>-B}if(y){o.on(g,w),v("show",o);var D=t.srcAttr,E=n(D)?D(o):s.getAttribute(D);E&&(s.src=E),x=!0}else z<r&&(r=z)}}else x=!0;x&&(p(s,f,0),q.splice(l--,1),m--)}m||v("complete",a(i))}}function y(){s>1?(s=1,x(),setTimeout(y,k.throttle)):s=0}function z(a){q.length&&(a&&"scroll"===a.type&&a.currentTarget===b&&r>=u()||(s||setTimeout(y,0),s=2))}function A(){m.lazyLoadXT()}function B(){x(!0)}var e="lazyLoadXT",f="lazied",g="load error",h="lazy-hidden",i=c.documentElement||c.body,j=b.onscroll===d||!!b.operamini||!i.getBoundingClientRect,k={autoInit:!0,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:j,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"lazyloadall",oninit:{removeClass:"lazy"},onshow:{addClass:h},onload:{removeClass:h,addClass:"lazy-loaded"},onerror:{removeClass:h},checkDuplicates:!0},l={srcAttr:"data-src",edgeX:0,edgeY:0,visibleOnly:!0},m=a(b),n=a.isFunction,o=a.extend,p=a.data||function(b,c){return a(b).data(c)},q=[],r=0,s=0;a[e]=o(k,l,a[e]),a.fn[e]=function(c){c=c||{};var m,d=t(c,"blankImage"),g=t(c,"checkDuplicates"),h=t(c,"scrollContainer"),i=t(c,"show"),j={};a(h).on("scroll",z);for(m in l)j[m]=t(c,m);return this.each(function(h,l){if(l===b)a(k.selector).lazyLoadXT(c);else{var m=g&&p(l,f),n=a(l).data(f,i?-1:1);if(m)return void z();d&&"IMG"===l.tagName&&!l.src&&(l.src=d),n[e]=o({},j),v("init",n),q.push(n),z()}})},a(c).ready(function(){v("start",m),m.on(k.updateEvent,z).on(k.forceEvent,B),a(c).on(k.updateEvent,z),k.autoInit&&(m.on(k.loadEvent,A),A())})}(window.jQuery||window.Zepto||window.$,window,document);
